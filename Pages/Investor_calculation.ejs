<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.101.0">
    <title>New investor project</title>
    <base href="/">

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/sign-in/">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
    <script src="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet/0.0.1-beta.5/esri-leaflet.js"></script>
    <script
        src="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet-geocoder/0.0.1-beta.5/esri-leaflet-geocoder.js"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdn-geoweb.s3.amazonaws.com/esri-leaflet-geocoder/0.0.1-beta.5/esri-leaflet-geocoder.css">

    <link href="investor_calculation.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <header>
        <!-- Fixed navbar -->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Solar project</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="#">Help</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main class="flex-shrink-0">
        <div class="container">
            <br>
            <br>
            <h1 class="mt-5">Investment in solar panels</h1>
            <p class="lead">
                To begin investement in solar panels, one needs to figure out how many of them is required.
                There are several factors that have affect on it, and the first one is the location.
                So, please provide us the location of your future PV system. Click on the search icon &#x1F50D; in the
                map below
                and start typing the name of the location. On the menu which will appear afterwards, choose
                the exact location.
            </p>
            <div id="map"></div>
            <div class='pointer'>
            </div>

            <script>

                var map = L.map('map', {
                    center: [43.8563, 18.4131],
                    zoom: 8
                });

                L.control.scale().addTo(map);
                // Create a Tile Layer and add it to the map
                var tiles = new L.tileLayer('http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png').addTo(map);
                L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);
                var searchControl = new L.esri.Controls.Geosearch().addTo(map);
                var results = new L.LayerGroup().addTo(map);
                searchControl.on('results', function (data) {
                    results.clearLayers();
                    for (var i = data.results.length - 1; i >= 0; i--) {
                        results.addLayer(L.marker(data.results[i].latlng));
                    }
                    var inputlat = document.getElementById('hiddenInputlat');
                    inputlat.value = data.latlng.lat;
                    var inputlon = document.getElementById('hiddenInputlon');
                    inputlon.value = data.latlng.lng;
                    // console.log(input.value.latt);
                });
                /*const axios = require("axios");
                axios({
                    method: 'post',
                    url: '/resultsInv',
                    data: {
                        slat: data.latlng.lat,
                        slon: data.latlng.lng
                    }
                });*/
                setTimeout(function () { $('.pointer').fadeOut('slow'); }, 3400);
            </script>

            <form action="/resultsInv" method="post">
                <div>
                    <input type="hidden" name="slat" id="hiddenInputlat" />
                    <input type="hidden" name="slon" id="hiddenInputlon" />
                    <label for="Latitude">Latitude</label>
                    <select list="Latitude" id="Latitude" name="Latitude">
                        <datalist id="Latitude">
                            <% for (let i=0; i < 91; i++) { %>
                                <option value=<%=i %>>
                                    <%= i %>
                                </option>
                                <% } %>
                        </datalist>
                    </select>
                    <label for="Longitude">Longitude</label>
                    <select list="Longitude" id="Longitude" name="Longitude">
                        <datalist id="Longitude">
                            <% for (let i=0; i < 181; i++) { %>
                                <option value=<%=i %>>
                                    <%= i %>
                                </option>
                                <% } %>
                        </datalist>
                    </select>
                    <div>
                        <label for="Hemispheres">Select
                            hemispheres</label>
                        <br>
                        <label for="North">North</label>
                        <input type="radio" name="N_or_S" value="North" checked="checked">
                        <label for="South">South</label>
                        <input type="radio" name="N_or_S" value="South">
                        <br>
                        <label for="West">West</label>
                        <input type="radio" name="W_or_E" value="West" checked="checked">
                        <label for="East">East</label>
                        <input type="radio" name="W_or_E" value="East">
                    </div>
                    <p class="lead">
                        There is only one more parameter we need. Actually, there are a few more, but for them
                        we make an assumptions. It does take effect but the results that we provide should be close
                        enough to the correct ones. If you want to cover up your annual consumption with the solar
                        panels
                        please provide it to us.

                    </p>
                    <div class="form-inline">
                        <label for="Average month" class="lead">Average monthly consumption (kWh): </label>
                        <input style="width: 50%;" ; type="number" id="Average month" name="Average_monthly_consumption"
                            class="form-control">
                    </div>
                </div>
                <div>
                    <input type="submit" value="Calculate required panels">
                </div>
            </form>
        </div>
    </main>
    <footer>
        <nav class="navbar navbar-dark bg-dark" style="height: 25px;">
            <a class="navbar-center" style="color: white;">Solar project &reg; 2022</a>
        </nav>
    </footer>
</body>

</html>